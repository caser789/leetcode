---
tags: [2019/12/23, OO]
title: 6-oo-rules
created: '2019-12-23T02:29:22.837Z'
modified: '2019-12-23T02:29:51.537Z'
---

# 6-oo-rules

### 单一职责

* 一个类只负责一件事情

### 开闭

* 开闭原则是总纲，它告诉我们要对扩展开放，对修改关闭

* 对象（类、模块、函数）对扩展开放
* 对象（类、模块、函数）对修改关闭

* 当需求发生变化时，应该尽可能扩展类，而不是修改类
* 用抽象构建框架
* 用实现扩展细节

### 里式替换

* 里氏替换原则告诉我们不要破坏继承体系

* 如果对每一个类型为 T1 的对象 t1, 都有类型为 T2 的对象 t2, 使得以 T1 定义的所有程序 P 在所有对象 t1 都替换成 t2 的时候，程序 P 的行为都没有发生变化，那么类型 T2 是类型 T1 的子类型。
* 所有引用基类的地方必须能够透明地使用其子类的对象。
* 子类可以去扩展父类的功能，但是不能改变父类原有的功能

#### 4 rules

* 子类可以实现父类的抽象方法，但是不能覆盖父类的非抽象方法。
* 子类可以增加自己独有的方法。
* 当子类的方法重载父类的方法时候，方法的形参要比父类的方法的输入参数更加宽松。
* 当子类的方法实现父类的抽象方法时，方法的返回值要比父类更严格。

#### why and vs 继承

* 里氏替换原则之所以这样要求是因为继承有很多缺点，
* 继承虽然是复用代码的一种方法，但同时在一定程度上违反了封装。
* 父类的属性和方法对子类都是透明的，子类可以随意修改父类的成员。这也导致了，如果需求变更，子类对父类的方法进行一些复写的时候，其他的子类无法正常工作。所以里氏替换法则被提出来。

### 依赖倒置

* 依赖倒置原则告诉我们要面向接口编

* 高层模块不应该依赖底层模块，两者都应该依赖其抽象 抽象不应该依赖细节 细节应该依赖抽象

### 接口隔离

* 客户端不应该依赖他不需要的接口
* 类间的依赖关系应该建立在最小的接口上

### 迪米特原则

* 一个对象应该对其他对象保持最小的了解
* 只与直接的朋友通信
* 耦合的方式很多，依赖、关联、组合、聚合等
* 成员变量、方法参数、方法返回值中的类为直接的朋友，而出现在局部变量中的类则不是直接的朋友


### 合成、复用


* 软件复用时，要尽量先使用组合或者聚合等关联关系来实现，其次才考虑使用继承关系来实现

## refs

* [infoq](https://mp.weixin.qq.com/s?__biz=MzAxODcyNjEzNQ==&mid=2247487875&idx=2&sn=dd41f24f521f077860de00f6c937865c&chksm=9bd0bc1baca7350d1f1c1f54d5f3b7a978e5977200ffd2e0b66f4245f5b15122e7c1af371b2d&scene=27#wechat_redirect)
* [wechat](https://mp.weixin.qq.com/s?__biz=MzAxODcyNjEzNQ==&mid=2247488408&idx=3&sn=908cbbefbb5bfdf1fc30e114b9efb1a9&chksm=9bd0be00aca73716439144a7280079e1d516d3ce6b328363333f4b418ba4e0e7cd216d5f1e45&scene=27#wechat_redirect)
